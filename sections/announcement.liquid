{%- if section.settings.show_announcement -%}
  {%- unless template != 'index' and section.settings.announcement_home_only -%}
    <style>
      .announcement {
        background-color: {{ section.settings.announcement_bar_bg_color }};
        color: {{ section.settings.announcement_bar_bg_text }};
      }
    </style>
    <div class="announcement">
      {%- if section.settings.announcement_bar_link != blank -%}
        <a href="{{ section.settings.announcement_bar_link }}">
      {%- endif -%}
      <div class="announcement__inner">
        {{ section.settings.announcement_bar_text }}
      </div>
      {%- if section.settings.announcement_bar_link != blank -%}
        </a>
      {%- endif -%}
      {%- if section.settings.announcement_bar_trasluced != false -%}
        <style>
          .announcement {
            z-index: 2;
            position: absolute;
            width: 100%;
            border-bottom: 1px solid white;
            background: transparent;
          }
          .pageheader__layout {
            position: relative;
            z-index: 1;
            width: 100%;
            margin-top: 33px;
          }
          .scrolled-down .pageheader__layout::before {
            transform: translateY(-22px);
          }
          .scrolled-down .pageheader__layout {
            transform: translateY(-22px);
          }
        </style>
      {%- else -%}
        <style>
          .announcement {
            background-color: {{ section.settings.announcement_bar_bg_color }};
            color: {{ section.settings.announcement_bar_bg_text }};
          }
        </style>
      {%- endif -%}
    </div>
  {%- endunless -%}
{% endif %}
{% schema %}
  {
    "name": "Announcement bar",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_announcement",
        "label": "Show announcement",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "announcement_home_only",
        "label": "Home page only",
        "default": false
      },
      {
        "type": "text",
        "id": "announcement_bar_text",
        "label": "Text"
      },
      {
        "type": "url",
        "id": "announcement_bar_link",
        "label": "Link"
      }, {
        "type": "color",
        "id": "announcement_bar_bg_color",
        "label": "Background color",
        "default": "#ffe2d1"
      }, {
        "type": "color",
        "id": "announcement_bar_bg_text",
        "label": "Text color",
        "default": "#132625"
      }, {
        "type": "checkbox",
        "id": "announcement_bar_trasluced",
        "label": "Transparency",
        "default": false
      }
    ]
  }
{% endschema %}